[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scenes/Game/level-0/Navigation2D.gd" type="Script" id=1]
[ext_resource path="res://Scenes/Game/level-0/tileset.tres" type="TileSet" id=2]
[ext_resource path="res://Scenes/Door/Door.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Player/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Keys/Keys.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Game/Phase Bar/PhaseBar.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Human/human.tscn" type="PackedScene" id=7]
[ext_resource path="res://Resources/Art/yellow-key.png" type="Texture" id=8]
[ext_resource path="res://Scenes/Enemies/Enemy.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/Game/level-1/level-1.gd" type="Script" id=10]
[ext_resource path="res://Scenes/Game/level-1/Path2D.gd" type="Script" id=11]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 436, 124, -400, 127, -374, 6, 258, 4, 442, -60, 264, -58 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 0, 3, 5 ) ]
outlines = [ PoolVector2Array( -400, 127, 436, 124, 442, -60, 264, -58, 258, 4, -374, 6 ) ]

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 36, 129, -287, 129, -284, 70, -221, 66, 419, 71, 421, 132, 101, 128, 359, 68, -28, -189, -29, -254, 226, -257, 354, -124, 233, -317, 356, -316, 489, 133, 674, 132, 675, 323, 487, 199, 107, 195, -219, 322, -155, 257, 37, 202, -220, -124, -158, -124, -153, 198, -220, 260, -153, -186 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6, 7 ), PoolIntArray( 7, 6, 0, 8, 9, 10, 11 ), PoolIntArray( 12, 13, 11, 10 ), PoolIntArray( 14, 15, 16, 17 ), PoolIntArray( 18, 17, 16, 19, 20, 21 ), PoolIntArray( 3, 22, 23, 0 ), PoolIntArray( 20, 24, 21 ), PoolIntArray( 19, 25, 20 ), PoolIntArray( 18, 21, 0, 6 ), PoolIntArray( 23, 26, 8, 0 ) ]
outlines = [ PoolVector2Array( 36, 129, 37, 202, -153, 198, -155, 257, -220, 260, -219, 322, 675, 323, 674, 132, 489, 133, 487, 199, 107, 195, 101, 128, 421, 132, 419, 71, 359, 68, 354, -124, 356, -316, 233, -317, 226, -257, -29, -254, -28, -189, -153, -186, -158, -124, -220, -124, -221, 66, -284, 70, -287, 129 ) ]

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 30, 179 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 26, 34.5 )

[sub_resource type="Curve2D" id=5]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -6.5, 43.5, 0, 0, 0, 0, -27, 43.5, 0, 0, 0, 0, 255.5, 43.5 )
}

[node name="level-1" type="Node2D"]
script = ExtResource( 10 )

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
show_collision = true
collision_layer = 4
collision_mask = 4
format = 1
tile_data = PoolIntArray( -524289, 0, 0, -589824, 0, 2, -589823, 0, 2, -589822, 0, 3, -589821, 0, 2, -589820, 0, 2, -589819, 0, 2, -589818, 0, 2, -589817, 0, 1, -458757, 0, 0, -458756, 0, 2, -458755, 0, 2, -458754, 0, 2, -458753, 0, 65537, -524288, 5, 0, -524287, 5, 0, -524286, 0, 65538, -524285, 2, 0, -524284, 2, 0, -524283, 2, 0, -524282, 2, 0, -524281, 0, 65536, -524280, 0, 2, -524279, 0, 1, -393223, 0, 0, -393222, 0, 2, -393221, 0, 65537, -393220, 5, 0, -393219, 5, 0, -393218, 5, 0, -393217, 5, 0, -458752, 5, 0, -458751, 5, 0, -458750, 0, 6, -458749, 2, 0, -458748, 2, 0, -458747, 2, 0, -458746, 2, 0, -458745, 2, 0, -458744, 2, 0, -458743, 0, 65538, -327688, 0, 0, -327687, 0, 65537, -327686, 5, 0, -327685, 5, 0, -327684, 5, 0, -327683, 5, 0, -327682, 5, 0, -327681, 5, 0, -393216, 5, 0, -393215, 5, 0, -393214, 5, 0, -393213, 2, 0, -393212, 2, 0, -393211, 2, 0, -393210, 2, 0, -393209, 2, 0, -393208, 2, 0, -393207, 0, 65538, -262152, 0, 65538, -262151, 5, 0, -262150, 5, 0, -262149, 5, 0, -262148, 5, 0, -262147, 5, 0, -262146, 5, 0, -262145, 5, 0, -327680, 5, 0, -327679, 5, 0, -327678, 0, 65541, -327677, 2, 0, -327676, 2, 0, -327675, 2, 0, -327674, 2, 0, -327673, 2, 0, -327672, 2, 0, -327671, 0, 65538, -196616, 0, 65538, -196615, 5, 0, -196614, 5, 0, -196613, 5, 0, -196612, 5, 0, -196611, 5, 0, -196610, 5, 0, -196609, 5, 0, -262144, 5, 0, -262143, 5, 0, -262142, 0, 65538, -262141, 2, 0, -262140, 2, 0, -262139, 2, 0, -262138, 2, 0, -262137, 2, 0, -262136, 2, 0, -262135, 0, 65538, -131081, 0, 0, -131080, 0, 65537, -131079, 5, 0, -131078, 5, 0, -131077, 5, 0, -131076, 5, 0, -131075, 5, 0, -131074, 5, 0, -131073, 5, 0, -196608, 5, 0, -196607, 5, 0, -196606, 0, 65536, -196605, 0, 1, -196604, 2, 0, -196603, 2, 0, -196602, 2, 0, -196601, 2, 0, -196600, 0, 0, -196599, 0, 65537, -65545, 0, 65538, -65544, 5, 0, -65543, 5, 0, -65542, 5, 0, -65541, 5, 0, -65540, 5, 0, -65539, 5, 0, -65538, 5, 0, -65537, 5, 0, -131072, 5, 0, -131071, 5, 0, -131070, 5, 0, -131069, 0, 65539, -131068, 0, 2, -131067, 0, 2, -131066, 0, 2, -131065, 0, 262148, -131064, 0, 262147, -9, 0, 65536, -8, 0, 262148, -7, 0, 262149, -6, 0, 2, -5, 0, 2, -4, 0, 5, -3, 5, 0, -2, 0, 65542, -1, 0, 2, -65536, 0, 2, -65535, 0, 2, -65534, 0, 2, -65533, 0, 65537, -65532, 5, 0, -65531, 5, 0, -65530, 5, 0, -65529, 0, 131076, -65528, 0, 131077, 65528, 0, 327682, 65529, 0, 65544, 65530, 5, 0, 65531, 5, 0, 65532, 5, 0, 65533, 5, 0, 65534, 5, 0, 65535, 5, 0, 0, 5, 0, 1, 5, 0, 2, 5, 0, 3, 5, 0, 4, 5, 0, 5, 5, 0, 6, 5, 0, 7, 0, 327682, 8, 0, 65544, 131063, 0, 7, 131064, 0, 262147, 131065, 5, 0, 131066, 5, 0, 131067, 5, 0, 131068, 5, 0, 131069, 5, 0, 131070, 5, 0, 131071, 5, 0, 65536, 5, 0, 65537, 5, 0, 65538, 5, 0, 65539, 5, 0, 65540, 5, 0, 65541, 5, 0, 65542, 5, 0, 65543, 0, 65538, 196599, 0, 65543, 196600, 0, 327685, 196601, 0, 2, 196602, 0, 2, 196603, 0, 2, 196604, 0, 2, 196605, 0, 2, 196606, 0, 2, 196607, 0, 2, 131072, 0, 2, 131073, 0, 2, 131074, 0, 2, 131075, 0, 2, 131076, 0, 2, 131077, 0, 2, 131078, 0, 2, 131079, 0, 65537 )

[node name="ObjectMap" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
show_collision = true
format = 1

[node name="Door1" parent="." instance=ExtResource( 3 )]
position = Vector2( -160, -31 )
door_color = "yellow"

[node name="Key" parent="." instance=ExtResource( 5 )]
position = Vector2( 400, 31 )
texture = ExtResource( 8 )
key_color = "yellow"

[node name="Player" parent="." instance=ExtResource( 4 )]
position = Vector2( -138, 98 )

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_top = -40.0
margin_right = 40.0
custom_constants/margin_left = 20
custom_constants/margin_bottom = 20

[node name="PhaseBar" parent="CanvasLayer/MarginContainer" instance=ExtResource( 6 )]
anchor_top = 0.0
anchor_bottom = 0.0
margin_left = 20.0
margin_top = 0.0
margin_right = 40.0
margin_bottom = 20.0
mouse_filter = 2

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.478431, 0.505882, 0.552941, 1 )

[node name="Navigation2D" type="Navigation2D" parent="."]
script = ExtResource( 1 )
character_speed = 150.0
playerPath = NodePath("../Player")

[node name="Navmesh" type="NavigationPolygonInstance" parent="Navigation2D"]
navpoly = SubResource( 1 )

[node name="Human" parent="Navigation2D" instance=ExtResource( 7 )]
position = Vector2( -217, 88 )

[node name="Navmesh_unlocked" type="NavigationPolygonInstance" parent="Navigation2D"]
position = Vector2( -229, -194 )
navpoly = SubResource( 2 )
enabled = false

[node name="DialogueTrigger" type="Area2D" parent="."]
visible = false
collision_layer = 7
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="DialogueTrigger"]
position = Vector2( 202, 154 )
shape = SubResource( 3 )

[node name="ExitTrigger" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ExitTrigger"]
position = Vector2( 480, 160.5 )
shape = SubResource( 4 )

[node name="Path2D" type="Path2D" parent="."]
position = Vector2( -387, -217 )
scale = Vector2( 2, 2 )
curve = SubResource( 5 )
script = ExtResource( 11 )

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2( -6.5, 43.5 )
rotation = 3.14159

[node name="Enemy" parent="Path2D/PathFollow2D" instance=ExtResource( 9 )]
rotation = 0.00634337
scale = Vector2( 1, 1 )

[node name="Tween" type="Tween" parent="."]

[connection signal="tween_completed" from="Tween" to="." method="_on_Tween_tween_completed"]
